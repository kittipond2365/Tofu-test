"use client";
import { useState } from 'react'; import Link from 'next/link'; import { useRouter } from 'next/navigation'; import { apiClient } from '@/lib/api'; import { Button } from '@/components/ui/button'; import { Input } from '@/components/ui/input'; import { Card } from '@/components/ui/card';
export default function RegisterPage(){ const [form,setForm]=useState({email:'',password:'',full_name:'',display_name:''}); const [error,setError]=useState(''); const router=useRouter();
const submit=async(e:React.FormEvent)=>{e.preventDefault(); try{ await apiClient.register(form); router.push('/login'); }catch(err:any){ setError(err?.response?.data?.detail||'Register failed'); }};
return <main className="mx-auto max-w-md p-6"><Card><h1 className="mb-4 text-xl font-semibold">Register</h1><form className="space-y-3" onSubmit={submit}><Input placeholder="Full name" value={form.full_name} onChange={e=>setForm({...form,full_name:e.target.value})} required/><Input placeholder="Display name" value={form.display_name} onChange={e=>setForm({...form,display_name:e.target.value})}/><Input placeholder="Email" type="email" value={form.email} onChange={e=>setForm({...form,email:e.target.value})} required/><Input placeholder="Password" type="password" value={form.password} onChange={e=>setForm({...form,password:e.target.value})} required/>{error&&<p className="text-sm text-red-600">{error}</p>}<Button type="submit" className="w-full">Create account</Button></form><p className="mt-3 text-sm"><Link href="/login" className="text-primary-600">Back to login</Link></p></Card></main>;
}

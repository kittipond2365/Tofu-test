import { NextResponse } from 'next/server'; import type { NextRequest } from 'next/server';
const publicRoutes = ['/login', '/register'];
export function middleware(request: NextRequest) { const token = request.cookies.get('auth-token')?.value; const pathname = request.nextUrl.pathname; if (publicRoutes.some((r) => pathname.startsWith(r))) return NextResponse.next(); if (!token) return NextResponse.redirect(new URL('/login', request.url)); return NextResponse.next(); }
export const config = { matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'] };
